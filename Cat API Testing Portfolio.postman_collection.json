{
  "info": {
    "_postman_id": "d0f304db-76d4-4e8d-b1ad-e2e7ef43134e",
    "name": "Cat API Testing Portfolio",
    "description": "## This portfolio showcases 10 practical Postman tests for TheCatAPI:\n\n- API request testing (GET)\n    \n- Query parameter validation\n    \n- Environment variables\n    \n- Collection variables\n    \n- Request chaining\n    \n- Negative testing\n    \n- Data type validation\n    \n- Schema validation\n    \n- Pre-request scripts\n    \n- Everything tested at once",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "49890859",
    "_collection_link": "https://go.postman.co/collection/49890859-d0f304db-76d4-4e8d-b1ad-e2e7ef43134e?source=collection_link"
  },
  "item": [
    {
      "name": "Test 1 - Get Random Cat Image",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// TEST 1: Check if request was successful",
              "pm.test(\"Status code is 200 (Success)\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: Check if response time is acceptable",
              "pm.test(\"Response time is less than 2000ms\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(2000);",
              "});",
              "",
              "// TEST 3: Check if data got back",
              "pm.test(\"Response has data\", function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData.length).to.be.above(0);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 2 - Get Multiple Cat Images with Parameters",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Get response data + extract limit parameter  ",
              "const jsonData = pm.response.json();",
              "const requestedLimit = parseInt(pm.request.url.query.toObject().limit);",
              "",
              "",
              "// TEST 1: Strict expectation (may fail â€“ documents expected behavior)",
              "pm.test(\"Expected: response length equals requested limit (\" + requestedLimit + \")\", function () {",
              "    pm.expect(jsonData.length).to.eql(requestedLimit);",
              "});",
              "",
              "",
              "// TEST 2: Flexible expectation, based on observed API behavior",
              "pm.test(\"Observed: API returns between 1 and 10 items\", function () {",
              "    pm.expect(jsonData.length).to.be.above(0);    // At least 1 item",
              "    pm.expect(jsonData.length).to.be.at.most(10); // At most 10 items",
              "});",
              "",
              "",
              "// TEST 3: Debugging Log - requested vs actual limit",
              "pm.test(\"DEBUG: Log requested vs actual limit\", function () {",
              "    console.log(\"ðŸ” Requested limit:\", requestedLimit);",
              "    console.log(\"ðŸ“Š Actual response length:\", jsonData.length);",
              "    console.log(\"âœ… Difference:\", jsonData.length - requestedLimit);",
              "});",
              "",
              "",
              "",
              "// TEST 4: Validation â€“ each image object has the expected fields",
              "pm.test(\"Each image has id, url, width, and height\", function () {",
              "    jsonData.forEach(function(image) {",
              "        pm.expect(image).to.have.property('id');",
              "        pm.expect(image).to.have.property('url');",
              "        pm.expect(image).to.have.property('width');",
              "        pm.expect(image).to.have.property('height');",
              "    });",
              "});",
              "",
              "",
              "// TEST 5: URL format sanity check â€“ URLs should use HTTPS",
              "pm.test(\"Image URLs are valid HTTPS URLs\", function () {",
              "    jsonData.forEach(function(image) {",
              "        pm.expect(image.url).to.include('https://');",
              "    });",
              "    ",
              "    console.log(\"Verified HTTPS for \" + jsonData.length + \" URLs\");",
              "});",
              "",
              "",
              "",
              "",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "https://api.thecatapi.com/v1/images/search?limit=5&size=small",
          "protocol": "https",
          "host": [
            "api",
            "thecatapi",
            "com"
          ],
          "path": [
            "v1",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "limit",
              "value": "5"
            },
            {
              "key": "size",
              "value": "small"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 3 - Using Environment Variables",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Save response for later use",
              "const breeds = pm.response.json();",
              "",
              "// TEST 1: Status code is 200",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: Breeds list is not empty",
              "pm.test(\"Breeds data is not empty\", function () {",
              "    pm.expect(breeds.length).to.be.above(0);",
              "});",
              "",
              "// TEST 3: Each breed has an id and most have a name field",
              "pm.test(\"Each breed has an id; most have a name\", function () {",
              "    breeds.forEach(function(breed, index) {",
              "        pm.expect(breed).to.have.property('id');",
              "",
              "        if (!breed.name) {",
              "            console.log(\"Breed missing name field. Index:\", index, \"ID:\", breed.id);",
              "        }",
              "    });",
              "});",
              "",
              "// Saving first breed ID for next test",
              "if (breeds.length > 0) {",
              "    pm.environment.set(\"breed_id\", breeds[0].id);",
              "    console.log(\"Saved breed ID: \" + breeds[0].id);",
              "}",
              "console.log(\"Saved breed ID: \" + breeds[0].id);",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 4 - Get Cat Image by Breed (Chained)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Get response data for image testing",
              "const jsonData = pm.response.json();",
              "",
              "// TEST 1: API responds successfully",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: Valid response (empty OK for rare breeds)",
              "pm.test(\"Response contains images for requested breed (0+ OK)\", function () {",
              "    pm.expect(jsonData.length).to.be.at.least(0);",
              "});",
              "",
              "// TEST 3: Images match requested breed (if images exist)",
              "pm.test(\"Images match requested breed ID\", function () {",
              "    const requestedBreedId = pm.environment.get(\"breed_id\");",
              "    ",
              "    jsonData.forEach(function(image, index) {",
              "        if (image.breeds && image.breeds.length > 0) {",
              "            pm.expect(image.breeds[0]).to.have.property('id');",
              "            pm.expect(image.breeds[0].id).to.eql(requestedBreedId);",
              "            pm.expect(image.breeds[0]).to.have.property('name');",
              "        }",
              "    });",
              "});",
              "",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search?breed_ids={{breed_id}}&limit=3",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "breed_ids",
              "value": "{{breed_id}}"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 5 - Negative Test - Invalid Breed ID",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jsonData = pm.response.json();",
              "",
              "// TEST 1: Status code check",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: Response might be empty or have no breed info",
              "pm.test(\"Invalid breed returns empty results or images without breed data\", function () {",
              "    // When an empty array or images without breed information are received",
              "    if (jsonData.length === 0) {",
              "        pm.expect(jsonData).to.have.lengthOf(0);",
              "    } else {",
              "        // Path B: Images returned â†’ but NO breed match expected",
              "        jsonData.forEach(function(image) {",
              "            if (image.breeds) {",
              "                pm.expect(image.breeds.length).to.equal(0);",
              "            }",
              "        });",
              "    }",
              "});",
              "",
              "// TEST 3: Response is still a valid JSON array",
              "pm.test(\"Response is valid JSON array\", function () {",
              "    pm.expect(jsonData).to.be.an('array');",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search?breed_ids=INVALID999",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "breed_ids",
              "value": "INVALID999"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 6 - Data Type Validation",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Get response data and first image for testing",
              "const jsonData = pm.response.json();",
              "const firstImage = jsonData[0];",
              "",
              "// TEST 1: API call succeeded",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: ID field is valid string",
              "pm.test(\"Image ID is a non-empty string\", function () {",
              "    pm.expect(firstImage.id).to.be.a('string');",
              "    pm.expect(firstImage.id.length).to.be.above(0);",
              "});",
              "",
              "// TEST 3: URL field is valid HTTPS string",
              "pm.test(\"Image URL starts with https://\", function () {",
              "    pm.expect(firstImage.url).to.be.a('string');",
              "    pm.expect(firstImage.url).to.match(/^https:\\/\\//);",
              "});",
              "",
              "// TEST 4: Width field is valid positive number",
              "pm.test(\"Image width is positive number\", function () {",
              "    pm.expect(firstImage.width).to.be.a('number');",
              "    pm.expect(firstImage.width).to.be.above(0);",
              "});",
              "",
              "// TEST 5: Height field is valid positive number",
              "pm.test(\"Image height is positive number\", function () {",
              "    pm.expect(firstImage.height).to.be.a('number');",
              "    pm.expect(firstImage.height).to.be.above(0);",
              "});",
              "",
              "// TEST 6: Response has correct JSON content type",
              "pm.test(\"Content-Type header contains application/json\", function () {",
              "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search?limit=1",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "limit",
              "value": "1"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 7 - Using Collection Variables",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Get response data for breed testing",
              "const jsonData = pm.response.json();",
              "",
              "// TEST 1: API responds successfully",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: Result count matches default limit",
              "pm.test(\"Number of images â‰¤ default_limit\", function () {",
              "    const expectedLimit = parseInt(pm.collectionVariables.get(\"default_limit\"));",
              "    pm.expect(jsonData.length).to.be.at.most(expectedLimit);",
              "});",
              "",
              "// TEST 3: All images match requested breed ID",
              "pm.test(\"Images contain correct test_breed_id\", function () {",
              "    const testBreedId = pm.collectionVariables.get(\"test_breed_id\");",
              "    ",
              "    jsonData.forEach(function(image) {",
              "        if (image.breeds && image.breeds.length > 0) {",
              "            pm.expect(image.breeds[0].id).to.equal(testBreedId);",
              "        }",
              "    });",
              "});",
              "",
              "// LOG: Debug - show variables used in tests",
              "console.log(\"Test Breed ID:\", pm.collectionVariables.get(\"test_breed_id\"));",
              "console.log(\"Default Limit:\", pm.collectionVariables.get(\"default_limit\"));",
              "",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search?breed_ids={{test_breed_id}}&limit={{default_limit}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "breed_ids",
              "value": "{{test_breed_id}}"
            },
            {
              "key": "limit",
              "value": "{{default_limit}}"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 8 - Schema Validation",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Get response data for schema validation",
              "const jsonData = pm.response.json();",
              "",
              "// Define expected response structure (JSON Schema)",
              "const schema = {",
              "    \"type\": \"array\",",
              "    \"items\": {",
              "        \"type\": \"object\",",
              "        \"required\": [\"id\", \"url\", \"width\", \"height\"],",
              "        \"properties\": {",
              "            \"id\": { \"type\": \"string\" },",
              "            \"url\": { \"type\": \"string\", \"pattern\": \"^https://\" },",
              "            \"width\": { \"type\": \"number\", \"minimum\": 1 },",
              "            \"height\": { \"type\": \"number\", \"minimum\": 1 },",
              "            \"breeds\": { \"type\": \"array\" }",
              "        }",
              "    }",
              "};",
              "",
              "// TEST 1: API responds successfully",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: Full response matches schema definition",
              "pm.test(\"Response matches JSON schema\", function () {",
              "    pm.expect(tv4.validate(jsonData, schema)).to.be.true;",
              "});",
              "",
              "// TEST 3: Show schema errors if validation fails",
              "if (!tv4.validate(jsonData, schema)) {",
              "    console.log(\"Schema validation failed:\");",
              "    console.log(\"Error details:\", tv4.error);",
              "}",
              "",
              "// TEST 4: Double-check required fields exist",
              "pm.test(\"All required fields are present in each image\", function () {",
              "    jsonData.forEach(function(image) {",
              "        pm.expect(image).to.have.all.keys('id', 'url', 'width', 'height');",
              "    });",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search?limit=1",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "limit",
              "value": "1"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 9 - Pre-request Script Example",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Generate timestamp",
              "const timestamp = new Date().toISOString();",
              "pm.environment.set(\"test_timestamp\", timestamp);",
              "",
              "// Generate random limit between 1 and 10",
              "const randomLimit = Math.floor(Math.random() * 10) + 1;",
              "pm.environment.set(\"random_limit\", randomLimit);",
              "",
              "// Log what we generated",
              "console.log(\"Test started at:\", timestamp);",
              "console.log(\"Random limit generated:\", randomLimit);",
              "",
              "// Set a custom header (for demonstration)",
              "pm.request.headers.add({",
              "    key: 'X-Test-Run-ID',",
              "    value: 'test-' + Date.now()",
              "});",
              "",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Get response data + load random limit from environment",
              "const jsonData = pm.response.json();",
              "const randomLimit = parseInt(pm.environment.get(\"random_limit\"));",
              "",
              "// TEST 1: Status OK",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// TEST 2: FIXED - API always returns 10 (ignores limit)",
              "pm.test(\"API returns exactly 10 images\", function () {",
              "    pm.expect(jsonData.length).to.equal(10);",
              "});",
              "",
              "// TEST 3: Custom header sent",
              "pm.test(\"Custom header X-Test-Run-ID exists\", function () {",
              "    pm.expect(pm.request.headers.get('X-Test-Run-ID')).to.exist;",
              "});",
              "",
              "console.log(`Sent limit=${randomLimit}, API ignored it and sent 10 images`);",
              "",
              "",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search?limit={{random_limit}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "limit",
              "value": "{{random_limit}}"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Test 10 - Comprehensive Test Suite",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Setup: Record test start time",
              "pm.environment.set(\"suite_start_time\", Date.now());",
              "",
              "// Setup: Clear any previous test data",
              "pm.environment.unset(\"test_errors\");",
              "",
              "console.log(\"COMPREHENSIVE TEST SUITE STARTED\");",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Get response data and measure test suite performance",
              "const jsonData = pm.response.json();",
              "const startTime = parseInt(pm.environment.get(\"suite_start_time\"));",
              "const endTime = Date.now();",
              "const totalTime = endTime - startTime;",
              "",
              "// SECTION 1: HTTP basics (does API respond correctly?)",
              "pm.test(\"[HTTP] Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"[HTTP] Response time is acceptable (< 3000ms)\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(3000);",
              "});",
              "",
              "pm.test(\"[HTTP] Content-Type is JSON\", function () {",
              "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
              "});",
              "",
              "// SECTION 2: Response structure (is response properly formatted?)",
              "pm.test(\"[Structure] Response is an array\", function () {",
              "    pm.expect(jsonData).to.be.an('array');",
              "});",
              "",
              "pm.test(\"[Structure] Response is not empty\", function () {",
              "    pm.expect(jsonData.length).to.be.above(0);",
              "});",
              "",
              "pm.test(\"[Structure] API respects reasonable limits (â‰¤10)\", function () {",
              "    pm.expect(jsonData.length).to.be.at.most(10);",
              "});",
              "",
              "// SECTION 3: Data validation (check for required fields)",
              "pm.test(\"[Data] All images have required fields\", function () {",
              "    jsonData.forEach(function(image, index) {",
              "        pm.expect(image, \"Image \" + index + \" has id\").to.have.property('id');",
              "        pm.expect(image, \"Image \" + index + \" has url\").to.have.property('url');",
              "        pm.expect(image, \"Image \" + index + \" has width\").to.have.property('width');",
              "        pm.expect(image, \"Image \" + index + \" has height\").to.have.property('height');",
              "    });",
              "});",
              "",
              "pm.test(\"[Data] All IDs are unique\", function () {",
              "    var ids = jsonData.map(image => image.id);",
              "    var uniqueIds = [...new Set(ids)];",
              "    pm.expect(ids.length).to.equal(uniqueIds.length);",
              "});",
              "",
              "pm.test(\"[Data] All URLs are accessible HTTPS links\", function () {",
              "    jsonData.forEach(function(image) {",
              "        pm.expect(image.url).to.match(/^https:\\/\\//);",
              "        pm.expect(image.url).to.include('.com');",
              "    });",
              "});",
              "",
              "// SECTION 4: Data type validation (are all values correct type?)",
              "pm.test(\"[Types] All data types are correct\", function () {",
              "    jsonData.forEach(function(image) {",
              "        pm.expect(image.id).to.be.a('string');",
              "        pm.expect(image.url).to.be.a('string');",
              "        pm.expect(image.width).to.be.a('number');",
              "        pm.expect(image.height).to.be.a('number');",
              "    });",
              "});",
              "",
              "pm.test(\"[Types] Dimensions are positive numbers\", function () {",
              "    jsonData.forEach(function(image) {",
              "        pm.expect(image.width).to.be.above(0);",
              "        pm.expect(image.height).to.be.above(0);",
              "    });",
              "});",
              "",
              "// SECTION 5: CHECK (do images' dimensions are positive numbers and not 0x0 or negative)",
              "pm.test(\"[Logic] Images have reasonable dimensions (not 0x0 or negative)\", function () {",
              "    jsonData.forEach(function(image) {",
              "        pm.expect(image.width * image.height).to.be.above(0);",
              "    });",
              "});",
              "",
              "// Print summary for debugging",
              "console.log(\"COMPREHENSIVE TEST SUITE COMPLETED\");",
              "console.log(\"Total execution time: \" + totalTime + \"ms\");",
              "console.log(\"Images validated: \" + jsonData.length);",
              "console.log(\"========================================\");",
              "",
              "// Store results for potential next tests",
              "pm.environment.set(\"last_test_count\", jsonData.length);",
              "pm.environment.set(\"last_test_time\", totalTime);",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/{{api_version}}/images/search?limit=5",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "{{api_version}}",
            "images",
            "search"
          ],
          "query": [
            {
              "key": "limit",
              "value": "5"
            },
            {
              "key": "order",
              "value": "RANDOM",
              "disabled": true
            }
          ]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "default_limit",
      "value": ""
    },
    {
      "key": "max_limit",
      "value": ""
    },
    {
      "key": "test_breed_id",
      "value": ""
    }
  ]
}